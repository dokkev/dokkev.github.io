<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> [CAN 01] - What is CAN? | Dong Ho Kang </title> <meta name="author" content="Dong Ho Kang"> <meta name="description" content="What is CAN Bus and how is it used in robotics?"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.ico?968244106ed7c833589321ca0f99f9b2"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://dokkev.github.io/aboutcan/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script src="/assets/js/distillpub/template.v2.js"></script> <script src="/assets/js/distillpub/transforms.v2.js"></script> <script src="/assets/js/distillpub/overrides.js"></script> </head> <body> <d-front-matter> <script async type="text/json">
      {
            "title": "[CAN 01] - What is CAN?",
            "description": "What is CAN Bus and how is it used in robotics?",
            "published": "September 01, 2023",
            "authors": [
              
            ],
            "katex": {
              "delimiters": [
                {
                  "left": "$",
                  "right": "$",
                  "display": false
                },
                {
                  "left": "$$",
                  "right": "$$",
                  "display": true
                }
              ]
            }
          }
    </script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Dong Ho</span> Kang </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="post distill"> <d-title> <h1>[CAN 01] - What is CAN?</h1> <p>What is CAN Bus and how is it used in robotics?</p> </d-title> <d-article> <h1 id="introduction">Introduction</h1> <h3 id="what-is-control-area-network-can">What is Control Area Network (CAN)?</h3> <p>CAN is a communication interface widely used in the automotive industry due to its safety and reliability. CAN allows multiple electronic devices such as sensors and motor controllers to communicate in real-time via shared bus in which distributed CAN Nodes communicate through without a “master device”. CAN is a robust communication interface which can tramsits data over a long distance from 40 meters to 1,000 meters depending on the baudrate in hard coniditon subject to noise, interference, temerature, vibration, etc.</p> <h3 id="how-is-it-used-in-robotics">How is it used in Robotics?</h3> <p>In robotics, the Controller Area Network (CAN) is widely adopted for real-time communication between a host computer and motor driver modules. For complex robots like multi-DOF manipulators or legged robots, each motor driver module typically includes a microcontroller running control algorithms, such as Field-Oriented Control (FoC), to accurately control BLDC (Brushless DC) motors. In this setup, the microcontroller in each motor module calculates the PWM (Pulse Width Modulation) signals needed to control motor phases and achieve the desired movements. These PWM signals are then sent to motor drivers, such as the DRV8313, which uses them to drive the motor’s three phases. The control loop for each motor typically runs at a high frequency over 1 kHz, and a lot of motor driver modules such as ODrive, Mjbots, etc. include CAN controller and transceiver to enable the communication between the microcontroller and host computer.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/can/can-480.webp 480w,/assets/img/can/can-800.webp 800w,/assets/img/can/can-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/can/can.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="can" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> CAN Bus </div> <p>The CAN bus can also support real-time, high-frequency impedance control by closing the control loop through the CAN bus itself, rather than solely relying on the control loop inside the microcontroller in the driver module. Impedance control plays a crucial role for robots that need to adapt their flexibility when interacting with dynamic environments or external forces. This adaptability is especially valuable for legged robots that frequently make and break contact with the environment. Impedance control allows these robots to safely absorb impact upon contact. Legged robots can navigate challenging terrains, avoid obstacles, and maintain balance by constantly adjusting their feed-forward torque and impedance gains.</p> <p>\(\tau = M(q)\ddot{q} + D(\dot{q}_{d} - \dot{q}) + K(q_{d} - q) + g(q)\)</p> <div class="caption"> Joint Impedance Control Loop where M is the mass matrix, D is the damping matrix, K is the stiffness matrix, and g is the gravity vector with the generalized coordinates q. K and D are the impedance gains which determine the behavior of the joint when external forces are applied. </div> <p>For example, MIT mini cheetah robot uses CAN bus to communicate with the motor driver modules to achieve real-time impedance control.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/can/mini-cheetah-480.webp 480w,/assets/img/can/mini-cheetah-800.webp 800w,/assets/img/can/mini-cheetah-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/can/mini-cheetah.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="mini-cheetah" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> MIT Mini Cheetah </div> <p>This awesome open-source quadruped robot’s communication structure have been adopted by many other actuators and robot companies.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/can/ak10-9-480.webp 480w,/assets/img/can/ak10-9-800.webp 800w,/assets/img/can/ak10-9-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/can/ak10-9.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="ak10-9" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/can/go1-480.webp 480w,/assets/img/can/go1-800.webp 800w,/assets/img/can/go1-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/can/go1.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="go1" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/can/h1-480.webp 480w,/assets/img/can/h1-800.webp 800w,/assets/img/can/h1-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/can/h1.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="h1" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Robotic Systems with CAN communication Left: CubeMars AK10-9, Middle and Right: Unitree Go1 and H1 </div> <h3 id="limitation-of-can-bus-in-robotics">Limitation of CAN Bus in Robotics</h3> <p>Mini Cheetah has 4 CAN channels while 3 motors are connected to each channel to control total 12 motors. This is one of the limitation of using CAN bus for real-time control robots. The maximum baudrate of CAN bus is 1 Mbps, and the bus can be easily overloaded when the number of motors increases in high control frequency. Assuming the control loop is running at 1 kHz with a tyical non-RTR standard CAN frame with 11 bits of data, the CAN bus is populated with 22,000 bps with command frame and response frame of a single actuator. This is approximately 22.2% of the 1 Mbps CAN bus. Since it’s recommended to keep the CAN bus load less than 70~80%, the maximum number of actuators that can be connected to a single CAN channel is 3. Decreasing the control loop frequencty will reduce the load on the CAN bus, but lower control loop frequency will not only reduce the performance but also increase the instability of the robot.</p> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> <d-bibliography src="/assets/bibliography/"></d-bibliography> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Dong Ho Kang. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. Last updated: March 25, 2025. </div> </footer> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-about",title:"about",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-blog",title:"blog",description:"",section:"Navigation",handler:()=>{window.location.href="/blog/"}},{id:"nav-publications",title:"publications",description:"publications by categories in reversed chronological order. generated by jekyll-scholar.",section:"Navigation",handler:()=>{window.location.href="/publications/"}},{id:"nav-projects",title:"projects",description:"Robotics Portfolio",section:"Navigation",handler:()=>{window.location.href="/projects/"}},{id:"nav-cv",title:"cv",description:"",section:"Navigation",handler:()=>{window.location.href="/cv/"}},{id:"post-resources-for-learning-robotics",title:"Resources for Learning Robotics",description:"Collection of useful resources for learning robotics.",section:"Posts",handler:()=>{window.location.href="/Intro-to-Robotics/"}},{id:"post-robotic-hand-01-direct-driven-robotic-hand",title:"[Robotic Hand 01] - Direct Driven Robotic Hand",description:"Direct Driven Robotic Hand with ESP32, simpleFOC, and SocketCAN",section:"Posts",handler:()=>{window.location.href="/motorcan/"}},{id:"post-can-04-gripper-motor-control-with-can-bus",title:"[CAN 04] - Gripper Motor Control with CAN Bus",description:"Single Motor Control with ESP32, simpleFOC, and SocketCAN for Robotic Gripper",section:"Posts",handler:()=>{window.location.href="/motorcan/"}},{id:"post-can-03-communicating-to-esp32-with-socketcan",title:"[CAN 03] - Communicating to ESP32 with SocketCAN",description:"SocketCAN Communication with ESP32",section:"Posts",handler:()=>{window.location.href="/esp32can/"}},{id:"post-can-02-setting-up-socketcan-on-linux",title:"[CAN 02] - Setting up SocketCAN on Linux",description:"Setting up SocketCAN",section:"Posts",handler:()=>{window.location.href="/socketcan/"}},{id:"post-can-01-what-is-can",title:"[CAN 01] - What is CAN?",description:"What is CAN Bus and how is it used in robotics?",section:"Posts",handler:()=>{window.location.href="/aboutcan/"}},{id:"news-our-paper-rpc-a-modular-framework-for-robot-planning-control-and-deployment-https-arxiv-org-abs-2409-10015-has-been-accepted-to-the-2025-ieee-sice-international-symposium-on-system-integration-sii",title:"Our paper [RPC: A Modular Framework for Robot Planning, Control, and Deployment](https://arxiv.org/abs/2409.10015) has...",description:"",section:"News"},{id:"projects-cup-tower-stacking-with-baxter",title:"Cup Tower Stacking with Baxter",description:"Baxter stacks tower of cups with Moveit, Apriltag, and OpenCV",section:"Projects",handler:()=>{window.location.href="/projects/baxter-tower/"}},{id:"projects-bldc-motor-control-with-pid-controller",title:"BLDC Motor Control with PID Controller",description:"BLDC Motor Control with NU32 micrcontroller and DRV8835 H-bridge motor driver",section:"Projects",handler:()=>{window.location.href="/projects/motor/"}},{id:"projects-autonomous-fire-fighting-robot",title:"Autonomous Fire Fighting Robot",description:"Sensing and Localization of Fire, Grasping, and Operating Fire Extinguisher",section:"Projects",handler:()=>{window.location.href="/projects/firefigther/"}},{id:"projects-progamming-pic32-with-c",title:"Progamming PIC32 with C",description:"UART, SPI, LCD, LED, IMU, and more",section:"Projects",handler:()=>{window.location.href="/projects/PIC32/"}},{id:"projects-impact-modeling-with-euler-lagrangian-and-hamiltonian-mechanics",title:"Impact Modeling with Euler-Lagrangian and Hamiltonian Mechanics",description:"4 point mass system impact simulation in Python with SymPy",section:"Projects",handler:()=>{window.location.href="/projects/impact/"}},{id:"projects-whisker-based-tactile-sensing-and-shape-classification",title:"Whisker-based Tactile Sensing and Shape Classification",description:"active vibrissal sensing to classify concave and convex objects using ANN and invtestigation in the transformation from the whisker base frame to the head frame using RL",section:"Projects",handler:()=>{window.location.href="/projects/whisker-tactile/"}},{id:"projects-humanoid-robot-control-with-pypnc",title:"Humanoid Robot Control with PyPnC",description:"Whole Body Control and DCM Planner based Locomotion in PyBullet",section:"Projects",handler:()=>{window.location.href="/projects/pypnc/"}},{id:"projects-proprioceptive-robotic-hand-design-and-control",title:"Proprioceptive Robotic Hand Design and Control",description:"Five-bar linkages multi-dof robotic hand design and impedance control",section:"Projects",handler:()=>{window.location.href="/projects/platov2/"}},{id:"socials-email",title:"Send email",section:"Socials",handler:()=>{window.open("mailto:%64%6F%6E%67%68%6F@%75%74%65%78%61%73.%65%64%75","_blank")}},{id:"socials-google-scholar",title:"Google Scholar",section:"Socials",handler:()=>{window.open("https://scholar.google.com/citations?user=YlYSer0AAAAJ","_blank")}},{id:"socials-github",title:"GitHub",section:"Socials",handler:()=>{window.open("https://github.com/dokkev","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>